(()=>{var s=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?"http://localhost:8080":"";async function u(t){let e=await fetch(`${s}/api/slang`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:t})});if(!e.ok){let l=await e.json().catch(()=>({error:"Unknown error"}));throw new Error(l?.error||"Request failed")}return(await e.json()).slang}function o(t){let e=document.querySelector(t);if(!e)throw new Error(`Missing element ${t}`);return e}var c=o("#input"),m=o("#go"),d=o("#clear"),a=o("#copy"),n=o("#result"),r=o("#backendStatus");async function i(){try{let t=await fetch(`${s}/health`);if(!t.ok)throw new Error("not ok");let e=await t.json();r.textContent=`online \u2014 ${new Date(e.timestamp).toLocaleTimeString()}`}catch{r.textContent="offline"}}m.addEventListener("click",async()=>{let t=c.value.trim();if(!t){n.textContent="Please enter some text.";return}n.textContent="Translating\u2026";try{let e=await u(t);n.textContent=e}catch(e){n.textContent=`Error: ${e.message}`}});d.addEventListener("click",()=>{c.value="",n.textContent=""});a.addEventListener("click",async()=>{let t=n.textContent||"";if(t)try{await navigator.clipboard.writeText(t),a.textContent="Copied!",setTimeout(()=>a.textContent="Copy",1500)}catch{a.textContent="Failed",setTimeout(()=>a.textContent="Copy",1500)}});i();setInterval(i,2e4);})();
//# sourceMappingURL=main.js.map
