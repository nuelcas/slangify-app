{
  "version": 3,
  "sources": ["../../frontend/src/main.ts"],
  "sourcesContent": ["// Frontend TypeScript for Slangify\r\n// --------------------------------------------------------------\r\n\r\nconst BACKEND_URL =\r\n  window.location.hostname === \"localhost\" || window.location.hostname === \"127.0.0.1\"\r\n    ? \"http://localhost:8080\"\r\n    : \"\"; // In production, backend serves the frontend, so relative URLs are fine\r\n\r\nasync function slangifyText(text: string): Promise<string> {\r\n  const resp = await fetch(`${BACKEND_URL}/api/slang`, {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify({ text })\r\n  });\r\n\r\n  if (!resp.ok) {\r\n    const err = await resp.json().catch(() => ({ error: \"Unknown error\" }));\r\n    throw new Error(err?.error || \"Request failed\");\r\n  }\r\n\r\n  const data = await resp.json();\r\n  return data.slang;\r\n}\r\n\r\nfunction $(selector: string): HTMLElement {\r\n  const el = document.querySelector(selector);\r\n  if (!el) throw new Error(`Missing element ${selector}`);\r\n  return el as HTMLElement;\r\n}\r\n\r\nconst input = $(\"#input\") as HTMLTextAreaElement;\r\nconst go = $(\"#go\") as HTMLButtonElement;\r\nconst clear = $(\"#clear\") as HTMLButtonElement;\r\nconst copy = $(\"#copy\") as HTMLButtonElement;\r\nconst result = $(\"#result\") as HTMLElement;\r\nconst backendStatus = $(\"#backendStatus\") as HTMLElement;\r\n\r\nasync function checkBackend() {\r\n  try {\r\n    const res = await fetch(`${BACKEND_URL}/health`);\r\n    if (!res.ok) throw new Error(\"not ok\");\r\n    const json = await res.json();\r\n    backendStatus.textContent = `online \u2014 ${new Date(\r\n      json.timestamp\r\n    ).toLocaleTimeString()}`;\r\n  } catch {\r\n    backendStatus.textContent = \"offline\";\r\n  }\r\n}\r\n\r\ngo.addEventListener(\"click\", async () => {\r\n  const txt = input.value.trim();\r\n  if (!txt) {\r\n    result.textContent = \"Please enter some text.\";\r\n    return;\r\n  }\r\n\r\n  result.textContent = \"Translating\u2026\";\r\n\r\n  try {\r\n    const slang = await slangifyText(txt);\r\n    result.textContent = slang;\r\n  } catch (err) {\r\n    result.textContent = `Error: ${(err as Error).message}`;\r\n  }\r\n});\r\n\r\nclear.addEventListener(\"click\", () => {\r\n  input.value = \"\";\r\n  result.textContent = \"\";\r\n});\r\n\r\ncopy.addEventListener(\"click\", async () => {\r\n  const text = result.textContent || \"\";\r\n  if (!text) return;\r\n\r\n  try {\r\n    await navigator.clipboard.writeText(text);\r\n    copy.textContent = \"Copied!\";\r\n    setTimeout(() => (copy.textContent = \"Copy\"), 1500);\r\n  } catch {\r\n    copy.textContent = \"Failed\";\r\n    setTimeout(() => (copy.textContent = \"Copy\"), 1500);\r\n  }\r\n});\r\n\r\n// Check backend on load + periodically\r\ncheckBackend();\r\nsetInterval(checkBackend, 20_000);\r\n"],
  "mappings": "MAGA,IAAMA,EACJ,OAAO,SAAS,WAAa,aAAe,OAAO,SAAS,WAAa,YACrE,wBACA,GAEN,eAAeC,EAAaC,EAA+B,CACzD,IAAMC,EAAO,MAAM,MAAM,GAAGH,CAAW,aAAc,CACnD,OAAQ,OACR,QAAS,CAAE,eAAgB,kBAAmB,EAC9C,KAAM,KAAK,UAAU,CAAE,KAAAE,CAAK,CAAC,CAC/B,CAAC,EAED,GAAI,CAACC,EAAK,GAAI,CACZ,IAAMC,EAAM,MAAMD,EAAK,KAAK,EAAE,MAAM,KAAO,CAAE,MAAO,eAAgB,EAAE,EACtE,MAAM,IAAI,MAAMC,GAAK,OAAS,gBAAgB,CAChD,CAGA,OADa,MAAMD,EAAK,KAAK,GACjB,KACd,CAEA,SAASE,EAAEC,EAA+B,CACxC,IAAMC,EAAK,SAAS,cAAcD,CAAQ,EAC1C,GAAI,CAACC,EAAI,MAAM,IAAI,MAAM,mBAAmBD,CAAQ,EAAE,EACtD,OAAOC,CACT,CAEA,IAAMC,EAAQH,EAAE,QAAQ,EAClBI,EAAKJ,EAAE,KAAK,EACZK,EAAQL,EAAE,QAAQ,EAClBM,EAAON,EAAE,OAAO,EAChBO,EAASP,EAAE,SAAS,EACpBQ,EAAgBR,EAAE,gBAAgB,EAExC,eAAeS,GAAe,CAC5B,GAAI,CACF,IAAMC,EAAM,MAAM,MAAM,GAAGf,CAAW,SAAS,EAC/C,GAAI,CAACe,EAAI,GAAI,MAAM,IAAI,MAAM,QAAQ,EACrC,IAAMC,EAAO,MAAMD,EAAI,KAAK,EAC5BF,EAAc,YAAc,iBAAY,IAAI,KAC1CG,EAAK,SACP,EAAE,mBAAmB,CAAC,EACxB,MAAQ,CACNH,EAAc,YAAc,SAC9B,CACF,CAEAJ,EAAG,iBAAiB,QAAS,SAAY,CACvC,IAAMQ,EAAMT,EAAM,MAAM,KAAK,EAC7B,GAAI,CAACS,EAAK,CACRL,EAAO,YAAc,0BACrB,MACF,CAEAA,EAAO,YAAc,oBAErB,GAAI,CACF,IAAMM,EAAQ,MAAMjB,EAAagB,CAAG,EACpCL,EAAO,YAAcM,CACvB,OAASd,EAAK,CACZQ,EAAO,YAAc,UAAWR,EAAc,OAAO,EACvD,CACF,CAAC,EAEDM,EAAM,iBAAiB,QAAS,IAAM,CACpCF,EAAM,MAAQ,GACdI,EAAO,YAAc,EACvB,CAAC,EAEDD,EAAK,iBAAiB,QAAS,SAAY,CACzC,IAAMT,EAAOU,EAAO,aAAe,GACnC,GAAKV,EAEL,GAAI,CACF,MAAM,UAAU,UAAU,UAAUA,CAAI,EACxCS,EAAK,YAAc,UACnB,WAAW,IAAOA,EAAK,YAAc,OAAS,IAAI,CACpD,MAAQ,CACNA,EAAK,YAAc,SACnB,WAAW,IAAOA,EAAK,YAAc,OAAS,IAAI,CACpD,CACF,CAAC,EAGDG,EAAa,EACb,YAAYA,EAAc,GAAM",
  "names": ["BACKEND_URL", "slangifyText", "text", "resp", "err", "$", "selector", "el", "input", "go", "clear", "copy", "result", "backendStatus", "checkBackend", "res", "json", "txt", "slang"]
}
